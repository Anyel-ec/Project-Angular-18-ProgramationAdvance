<div class="upload">
  <div class="upload-receipt">
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <label>
        <img
          *ngIf="!fileUrl"
          src="https://cdn-icons-png.freepik.com/512/88/88635.png"
          alt="Icono de comprobante de pago"
          class="upload-icon"
        />
        <input
          type="file"
          (change)="onFileSelected($event)"
          accept=".pdf,image/*"
          formControlName="file"
          class="file-input"
        />
      </label>
      <div *ngIf="fileUrl" class="file-preview">
        <ng-container *ngIf="isImage; else pdfTemplate">
          <img
            [src]="fileUrl"
            alt="Vista previa de la imagen"
            class="preview-image"
          />
        </ng-container>
        <ng-template #pdfTemplate>
          <embed
            [src]="fileUrl"
            type="application/pdf"
            width="100%"
            height="100%"
            class="preview-pdf"
          />
        </ng-template>
      </div>

      <p>Por favor, adjunte Nota de grado</p>
      <div class="submit-button-container">
        <button type="submit" class="submit-button">Enviar</button>
        <button *ngIf="fileUrl != null || isImage"  type="button" class="clean-button" (click)="clearFile()">Limpiar</button>
      </div>
    </form>
  </div>
</div> 
